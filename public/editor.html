<html>
<head>
<script src="http://ajaxorg.github.com/ace/build/src/ace.js"></script>
<script src="/channel/bcsocket.js"></script>
<script src="/share/share.js"></script>
<script src="/share/ace.js"></script>

<script>
	window.onload = function(){
	    var editor = ace.edit("editor");
    	//TODO proper regex parameter parsing here
        var id = document.location.href.split("id=")[1]
	    sharejs.open(id, 'text', function(error, doc) {
	        doc.attach_ace(editor);
	    });
	};
</script>
</head>
<body>
<div id="editor" style="position: absolute; width: 500px; height: 400px"></div>
</body>
</html>
